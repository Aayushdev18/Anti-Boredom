<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sacred Sites: A Virtual Temple Pilgrimage</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDF8F0; /* A soft, warm off-white */
        }

        /* Custom scrollbar for a more aesthetic feel */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #FDF8F0;
        }
        ::-webkit-scrollbar-thumb {
            background: #D1B48C; /* Soft gold */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #C0A070;
        }

        /* Card hover effect */
        .temple-card:hover .overlay {
            opacity: 1;
        }
        .temple-card:hover img {
            transform: scale(1.05);
        }

        /* Modal transition */
        #modal {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
        }

        /* Styling for the filter buttons */
        .filter-btn {
            transition: all 0.2s ease-in-out;
        }
        .filter-btn.active {
            background-color: #8C6A48; /* A deeper, earthy brown */
            color: #FDF8F0;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* Styling for the view tabs */
        .view-tab-btn {
            transition: background-color 0.2s ease-in-out;
        }
        .view-tab-btn.active {
            background-color: #8C6A48;
        }
        .view-tab-btn:not(.active):hover {
            background-color: #5c4033;
        }
        .view-tab-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background-color: #4a3a2a;
        }
    </style>
</head>
<body class="antialiased text-gray-800">

    <!-- Header Section -->
    <header class="text-center py-8 md:py-12 bg-gradient-to-b from-orange-50 to-[#FDF8F0]">
        <h1 class="text-4xl md:text-6xl font-bold text-[#5C4033] tracking-tight">Sacred Sites</h1>
        <p class="mt-2 text-lg md:text-xl text-amber-800">A Virtual Pilgrimage Across India</p>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 pb-16">
        
        <!-- State Filter Section -->
        <div id="filters" class="flex flex-wrap justify-center gap-2 mb-10">
            <button class="filter-btn active all-btn bg-amber-200 text-amber-900 px-4 py-2 rounded-full text-sm font-semibold shadow-sm hover:bg-amber-300" data-state="all">All States</button>
            <!-- State buttons will be injected here by JavaScript -->
        </div>

        <!-- Temple Grid Section -->
        <div id="temple-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 md:gap-8">
            <!-- Temple cards will be injected here by JavaScript -->
        </div>
    </main>

    <!-- Modal for Map View and Info -->
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none scale-95">
        <div id="modal-content" class="bg-[#FDF8F0] rounded-2xl shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col md:flex-row overflow-hidden transform transition-transform duration-300">
            <!-- Viewer Panel -->
            <div class="w-full md:w-2/3 h-1/2 md:h-full bg-gray-800 flex flex-col">
                <!-- Tabs -->
                <div class="flex-shrink-0 bg-gray-900">
                    <div id="view-tabs" class="flex justify-center space-x-2 p-2">
                        <button id="street-view-btn" class="view-tab-btn px-4 py-2 text-sm font-medium rounded-md text-white">Street View</button>
                        <button id="map-view-btn" class="view-tab-btn px-4 py-2 text-sm font-medium rounded-md text-white">Satellite View</button>
                    </div>
                </div>
                <!-- View Content -->
                <div class="flex-grow relative">
                    <!-- Street View Pane -->
                    <div id="street-view-pane" class="w-full h-full">
                        <iframe id="street-view-iframe" class="w-full h-full" style="border:0;" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src=""></iframe>
                    </div>
                    <!-- Map View Pane -->
                    <div id="map-view-pane" class="w-full h-full hidden">
                        <iframe id="gmap-iframe" class="w-full h-full" style="border:0;" loading="lazy" allowfullscreen referrerpolicy="no-referrer-when-downgrade" src=""></iframe>
                    </div>
                </div>
            </div>

            <!-- Temple Information Panel -->
            <div class="w-full md:w-1/3 h-1/2 md:h-full flex flex-col p-6 md:p-8 overflow-y-auto">
                <img id="modal-image" src="" alt="High-quality image of the temple" class="w-full h-48 object-cover rounded-lg mb-6 shadow-lg">
                <h2 id="modal-title" class="text-3xl font-bold text-[#5C4033] mb-2">Temple Name</h2>
                <p id="modal-state" class="text-md font-medium text-amber-700 mb-4">State</p>
                <div class="prose max-w-none text-gray-700">
                    <p id="modal-description">Temple description goes here.</p>
                </div>
            </div>

            <!-- Close Button -->
            <button id="close-modal" class="absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition-colors z-10">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
    </div>


<script>
    const templeData = [
        {
            name: "Venkateswara Temple",
            state: "Andhra Pradesh",
            description: "Located in the hill town of Tirumala, it is one of the most visited places of worship in the world. The temple is dedicated to Lord Venkateswara, an incarnation of Vishnu.",
            thumbnail: "https://images.unsplash.com/photo-1621673969482-3f7c11993a43?w=800&q=80",
            modalImage: "https://images.unsplash.com/photo-1621673969482-3f7c11993a43?w=1200&q=80",
            lat: 13.6833, lng: 79.3483,
            hasStreetView: true, heading: 270, pitch: 5
        },
        {
            name: "Parshuram Kund",
            state: "Arunachal Pradesh",
            description: "A Hindu pilgrimage site situated on the Brahmaputra plateau. It is dedicated to the sage Parshuram and attracts devotees who come for a holy dip in the Lohit river.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/Parshuram_Kund_Stairs.jpg/800px-Parshuram_Kund_Stairs.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/Parshuram_Kund_Stairs.jpg/1280px-Parshuram_Kund_Stairs.jpg",
            lat: 27.8694, lng: 96.3711,
            hasStreetView: false, heading: 0, pitch: 0
        },
        {
            name: "Kamakhya Temple",
            state: "Assam",
            description: "A Sakta temple dedicated to the mother goddess Kamakhya. It is one of the oldest of the 51 Shakti Pithas and is an important pilgrimage destination for Hindus.",
            thumbnail: "https://images.unsplash.com/photo-1606622197582-8491741c8884?w=800&q=80",
            modalImage: "https://images.unsplash.com/photo-1606622197582-8491741c8884?w=1200&q=80",
            lat: 26.1664, lng: 91.7058,
            hasStreetView: true, heading: 15, pitch: 10
        },
        {
            name: "Mahabodhi Temple",
            state: "Bihar",
            description: "A UNESCO World Heritage Site in Bodh Gaya, it is the location where Siddhartha Gautama, the Buddha, is said to have attained enlightenment. A major pilgrimage site for Buddhists.",
            thumbnail: "https://images.unsplash.com/photo-1595242484931-419b788053a7?w=800&q=80",
            modalImage: "https://images.unsplash.com/photo-1595242484931-419b788053a7?w=1200&q=80",
            lat: 24.6960, lng: 84.9912,
            hasStreetView: true, heading: 250, pitch: 5
        },
        {
            name: "Danteshwari Temple",
            state: "Chhattisgarh",
            description: "Dedicated to Goddess Danteshwari, the temple is one of the 52 Shakti Pithas. It is believed to be the spot where the Daanth or tooth of Sati fell.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Danteshwari-Temple-Dantewada-Chhattisgarh.jpg/800px-Danteshwari-Temple-Dantewada-Chhattisgarh.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Danteshwari-Temple-Dantewada-Chhattisgarh.jpg/1280px-Danteshwari-Temple-Dantewada-Chhattisgarh.jpg",
            lat: 18.8953, lng: 81.3503,
            hasStreetView: false, heading: 0, pitch: 0
        },
        {
            name: "Mangeshi Temple",
            state: "Goa",
            description: "One of the largest and most frequented temples in Goa. It is dedicated to Lord Manguesh, an incarnation of Shiva. The temple architecture is a blend of Hindu, Christian, and Muslim styles.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Shri_Mangeshi_Temple_in_Goa_01.jpg/800px-Shri_Mangeshi_Temple_in_Goa_01.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Shri_Mangeshi_Temple_in_Goa.jpg/1280px-Shri_Mangeshi_Temple_in_Goa.jpg",
            lat: 15.4217, lng: 73.9686,
            hasStreetView: true, heading: 200, pitch: 0
        },
        {
            name: "Somnath Temple",
            state: "Gujarat",
            description: "Believed to be the first among the twelve jyotirlinga shrines of Shiva. The temple has been reconstructed several times in the past after repeated destruction by invaders.",
            thumbnail: "https://images.unsplash.com/photo-1615839394657-737837b36d83?w=800&q=80",
            modalImage: "https://images.unsplash.com/photo-1615839394657-737837b36d83?w=1200&q=80",
            lat: 20.8880, lng: 70.4013,
            hasStreetView: true, heading: 180, pitch: 5
        },
        {
            name: "Mata Mansa Devi",
            state: "Haryana",
            description: "A Hindu temple dedicated to goddess Mansa Devi, a form of Shakti, in the Panchkula district. It is one of the prominent Shakti Pithas of North India.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Mata_Mansa_Devi_Mandir_Panchkula_2.jpg/800px-Mata_Mansa_Devi_Mandir_Panchkula_2.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Mata_Mansa_Devi_Mandir_Panchkula_2.jpg/1280px-Mata_Mansa_Devi_Mandir_Panchkula_2.jpg",
            lat: 30.7225, lng: 76.8524,
            hasStreetView: true, heading: 90, pitch: 0
        },
        {
            name: "Hidimba Devi Temple",
            state: "Himachal Pradesh",
            description: "Located in Manali, this ancient cave temple is dedicated to Hidimbi Devi, wife of Bhima from the Mahabharata. It's surrounded by a beautiful cedar forest.",
            thumbnail: "https://images.unsplash.com/photo-1609181139459-705889a7a9f4?w=800&q=80",
            modalImage: "https://images.unsplash.com/photo-1609181139459-705889a7a9f4?w=1200&q=80",
            lat: 32.2494, lng: 77.1802,
            hasStreetView: true, heading: 300, pitch: 10
        },
        {
            name: "Baidyanath Jyotirlinga",
            state: "Jharkhand",
            description: "Also known as Baba Baidyanath Dham, it is one of the twelve Jyotirlingas, the most sacred abodes of Shiva. It's a major pilgrimage center for devotees.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/Deoghar_Temple_2016.jpg/800px-Deoghar_Temple_2016.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/Deoghar_Temple_2016.jpg/1280px-Deoghar_Temple_2016.jpg",
            lat: 24.4925, lng: 86.6961,
            hasStreetView: true, heading: 180, pitch: 0
        },
        {
            name: "Virupaksha Temple",
            state: "Karnataka",
            description: "Located in Hampi, it is part of the Group of Monuments at Hampi, a UNESCO World Heritage Site. The temple is dedicated to Lord Virupaksha, a form of Shiva.",
            thumbnail: "https://images.unsplash.com/photo-1582510202243-4d43951f478e?w=800&q=80",
            modalImage: "https://images.unsplash.com/photo-1582510202243-4d43951f478e?w=1200&q=80",
            lat: 15.3353, lng: 76.4590,
            hasStreetView: true, heading: 80, pitch: 5
        },
        {
            name: "Sree Padmanabhaswamy",
            state: "Kerala",
            description: "Located in Thiruvananthapuram, this temple is a blend of the Kerala and Dravidian styles of architecture. It is dedicated to Lord Padmanabha, an incarnation of Vishnu.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Padmanabhaswamy_Temple_Trivandrum.jpg/800px-Padmanabhaswamy_Temple_Trivandrum.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Padmanabhaswamy_Temple_Trivandrum.jpg/1280px-Padmanabhaswamy_Temple_Trivandrum.jpg",
            lat: 8.4828, lng: 76.9436,
            hasStreetView: true, heading: 320, pitch: 0
        },
        {
            name: "Khajuraho Group of Monuments",
            state: "Madhya Pradesh",
            description: "A group of Hindu and Jain temples, they are a UNESCO World Heritage Site. They are famous for their nagara-style architectural symbolism and their erotic sculptures.",
            thumbnail: "https://images.unsplash.com/photo-1588334233442-73a4b087053e?w=800&q=80",
            modalImage: "https://images.unsplash.com/photo-1588334233442-73a4b087053e?w=1200&q=80",
            lat: 24.8526, lng: 79.9234,
            hasStreetView: true, heading: 10, pitch: 0
        },
        {
            name: "Shirdi Sai Baba Temple",
            state: "Maharashtra",
            description: "A major pilgrimage site dedicated to Sai Baba of Shirdi, a revered spiritual master. The temple complex attracts millions of devotees from all over the world.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Shri_Sai_Baba_Samadhi_Mandir_Temple.jpg/800px-Shri_Sai_Baba_Samadhi_Mandir_Temple.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Shri_Sai_Baba_Samadhi_Mandir_Temple.jpg/1280px-Shri_Sai_Baba_Samadhi_Mandir_Temple.jpg",
            lat: 19.7672, lng: 74.4777,
            hasStreetView: true, heading: 240, pitch: 0
        },
        {
            name: "Shri Govindajee Temple",
            state: "Manipur",
            description: "The largest Vaishnava temple in Imphal, located next to the palace of the former rulers of the Kingdom of Manipur. It is dedicated to Radha Govinda.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Govindaji_Temple%2C_Imphal.JPG/800px-Govindaji_Temple%2C_Imphal.JPG",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Govindaji_Temple%2C_Imphal.JPG/1280px-Govindaji_Temple%2C_Imphal.JPG",
            lat: 24.8016, lng: 93.9482,
            hasStreetView: true, heading: 90, pitch: 0
        },
        {
            name: "Nartiang Durga Temple",
            state: "Meghalaya",
            description: "A 600-year-old temple, it is one of the 51 Shakti Pithas. It is believed that the left thigh of Sati fell here. The temple is a center for Shakti worship in the region.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Nartiang_Durga_Temple%2C_Meghalaya.jpg/800px-Nartiang_Durga_Temple%2C_Meghalaya.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Nartiang_Durga_Temple%2C_Meghalaya.jpg/1280px-Nartiang_Durga_Temple%2C_Meghalaya.jpg",
            lat: 25.5656, lng: 92.2212,
            hasStreetView: false, heading: 0, pitch: 0
        },
        {
            name: "Solomon's Temple",
            state: "Mizoram",
            description: "A unique and beautiful temple in Aizawl built by the religious group 'Kohhran Thianghlim'. It is a non-denominational Christian church with stunning white architecture.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Solomon%27s_Temple_Aizawl.jpg/800px-Solomon%27s_Temple_Aizawl.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Solomon%27s_Temple_Aizawl.jpg/1280px-Solomon%27s_Temple_Aizawl.jpg",
            lat: 23.7506, lng: 92.6869,
            hasStreetView: true, heading: 200, pitch: 0
        },
        {
            name: "Dimapur Kalibari",
            state: "Nagaland",
            description: "A temple dedicated to the goddess Kali, located in the heart of Dimapur. It is a significant place of worship for the Hindu community in Nagaland.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Dimapur_Kalibari.jpg/800px-Dimapur_Kalibari.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Dimapur_Kalibari.jpg/1280px-Dimapur_Kalibari.jpg",
            lat: 25.9067, lng: 93.7432,
            hasStreetView: false, heading: 0, pitch: 0
        },
        {
            name: "Konark Sun Temple",
            state: "Odisha",
            description: "A 13th-century CE temple dedicated to the Sun God Surya. The temple is in the shape of a gigantic chariot with elaborately carved stone wheels, pillars, and walls.",
            thumbnail: "https://images.unsplash.com/photo-1594481392215-a03a7262a043?w=800&q=80",
            modalImage: "https://images.unsplash.com/photo-1594481392215-a03a7262a043?w=1200&q=80",
            lat: 19.8876, lng: 86.0945,
            hasStreetView: true, heading: 270, pitch: 5
        },
        {
            name: "Golden Temple",
            state: "Punjab",
            description: "Sri Harmandir Sahib, also known as the Golden Temple, is the holiest Gurdwara and the most important pilgrimage site of Sikhism. It is known for its stunning golden architecture and serene sarovar.",
            thumbnail: "https://images.unsplash.com/photo-1590001217735-a103c3917a10?w=800&q=80",
            modalImage: "https://images.unsplash.com/photo-1590001217735-a103c3917a10?w=1200&q=80",
            lat: 31.6200, lng: 74.8765,
            hasStreetView: true, heading: 290, pitch: 0
        },
        {
            name: "Dilwara Temples",
            state: "Rajasthan",
            description: "A group of Svetambara Jain temples located near Mount Abu. They are famous for their use of very pure white marble and intricate marble carvings.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2d/Dilwara_Temple_Mount_Abu.jpg/800px-Dilwara_Temple_Mount_Abu.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2d/Dilwara_Temple_Mount_Abu.jpg/1280px-Dilwara_Temple_Mount_Abu.jpg",
            lat: 24.6068, lng: 72.7183,
            hasStreetView: true, heading: 150, pitch: 0
        },
        {
            name: "Kirateshwar Mahadev Temple",
            state: "Sikkim",
            description: "Situated on the banks of the River Rangit, this temple is dedicated to Lord Shiva. It is a popular destination for devotees during the festival of Maha Shivaratri.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Kirateshwar_Mahadev_Temple.jpg/800px-Kirateshwar_Mahadev_Temple.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Kirateshwar_Mahadev_Temple.jpg/1280px-Kirateshwar_Mahadev_Temple.jpg",
            lat: 27.1818, lng: 88.2980,
            hasStreetView: false, heading: 0, pitch: 0
        },
        {
            name: "Meenakshi Amman Temple",
            state: "Tamil Nadu",
            description: "A historic Hindu temple located on the southern bank of the Vaigai River in Madurai. It is dedicated to Meenakshi, a form of Parvati, and her consort, Sundareshwarar, a form of Shiva.",
            thumbnail: "https://images.unsplash.com/photo-1563724933933-2882fccb74b6?w=800&q=80",
            modalImage: "https://images.unsplash.com/photo-1563724933933-2882fccb74b6?w=1200&q=80",
            lat: 9.9195, lng: 78.1196,
            hasStreetView: true, heading: 180, pitch: 5
        },
        {
            name: "Thousand Pillar Temple",
            state: "Telangana",
            description: "A historic Hindu temple located in Hanamkonda. It is dedicated to Shiva, Vishnu, and Surya. The temple is a masterpiece of Kakatiya architecture and sculpture.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Thousand_Pillar_Temple_2.jpg/800px-Thousand_Pillar_Temple_2.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Thousand_Pillar_Temple_2.jpg/1280px-Thousand_Pillar_Temple_2.jpg",
            lat: 18.0040, lng: 79.5938,
            hasStreetView: true, heading: 45, pitch: 0
        },
        {
            name: "Tripura Sundari Temple",
            state: "Tripura",
            description: "Also known as Matabari, it is a Hindu temple of Goddess Tripura Sundari. It is one of the 51 Shakti Pithas and a revered pilgrimage center.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Tripura_Sundari_Temple.jpg/800px-Tripura_Sundari_Temple.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Tripura_Sundari_Temple.jpg/1280px-Tripura_Sundari_Temple.jpg",
            lat: 23.5285, lng: 91.4788,
            hasStreetView: true, heading: 0, pitch: 0
        },
        {
            name: "Kashi Vishwanath Temple",
            state: "Uttar Pradesh",
            description: "One of the most famous Hindu temples dedicated to Lord Shiva. It is located in Varanasi and stands on the western bank of the holy river Ganga.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Kashi_Vishwanath_Temple_in_Varanasi_05.jpg/800px-Kashi_Vishwanath_Temple_in_Varanasi_05.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Kashi_Vishwanath_Temple_in_Varanasi_05.jpg/1280px-Kashi_Vishwanath_Temple_in_Varanasi_05.jpg",
            lat: 25.3109, lng: 83.0107,
            hasStreetView: true, heading: 90, pitch: 0
        },
        {
            name: "Kedarnath Temple",
            state: "Uttarakhand",
            description: "One of the holiest Hindu temples dedicated to Lord Shiva. It is located in the Garhwal Himalayan range and is one of the four sites in India's Chota Char Dham pilgrimage.",
            thumbnail: "https://images.unsplash.com/photo-1601875185994-9b5785ad52d0?w=800&q=80",
            modalImage: "https://images.unsplash.com/photo-1601875185994-9b5785ad52d0?w=1200&q=80",
            lat: 30.7352, lng: 79.0669,
            hasStreetView: false, heading: 0, pitch: 0
        },
        {
            name: "Dakshineswar Kali Temple",
            state: "West Bengal",
            description: "Situated on the eastern bank of the Hooghly River, this temple is dedicated to Bhavatarini, an aspect of Kali. The temple was founded by Rani Rashmoni.",
            thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Dakshineswar_Temple_beside_the_Ganges.jpg/800px-Dakshineswar_Temple_beside_the_Ganges.jpg",
            modalImage: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Dakshineswar_Temple_beside_the_Ganges.jpg/1280px-Dakshineswar_Temple_beside_the_Ganges.jpg",
            lat: 22.6550, lng: 88.3578,
            hasStreetView: true, heading: 210, pitch: 0
        }
    ];

    document.addEventListener('DOMContentLoaded', () => {
        const templeGrid = document.getElementById('temple-grid');
        const filtersContainer = document.getElementById('filters');
        const modal = document.getElementById('modal');
        const closeModalBtn = document.getElementById('close-modal');
        
        const gmapIframe = document.getElementById('gmap-iframe');
        const streetViewIframe = document.getElementById('street-view-iframe');
        
        const streetViewBtn = document.getElementById('street-view-btn');
        const mapViewBtn = document.getElementById('map-view-btn');
        const streetViewPane = document.getElementById('street-view-pane');
        const mapViewPane = document.getElementById('map-view-pane');

        // --- Setup Functions ---
        
        const states = [...new Set(templeData.map(t => t.state))].sort();

        states.forEach(state => {
            const btn = document.createElement('button');
            btn.className = 'filter-btn bg-amber-100 text-amber-800 px-4 py-2 rounded-full text-sm font-semibold shadow-sm hover:bg-amber-200';
            btn.textContent = state;
            btn.dataset.state = state;
            filtersContainer.appendChild(btn);
        });

        function displayTemples(filteredTemples) {
            templeGrid.innerHTML = '';
            filteredTemples.forEach((temple) => {
                const card = document.createElement('div');
                card.className = 'temple-card bg-white rounded-lg shadow-md overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-1';
                card.innerHTML = `
                    <div class="relative h-48">
                        <img src="${temple.thumbnail}" alt="Image of ${temple.name}" class="w-full h-full object-cover transition-transform duration-300" onerror="this.onerror=null;this.src='https://placehold.co/600x400/FDF8F0/5C4033?text=Image+Not+Found';">
                        <div class="overlay absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 transition-opacity duration-300">
                            <span class="text-white text-lg font-semibold">Explore</span>
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-lg text-gray-800">${temple.name}</h3>
                        <p class="text-sm text-gray-600">${temple.state}</p>
                    </div>
                `;
                card.addEventListener('click', () => openModal(temple));
                templeGrid.appendChild(card);
            });
        }
        
        // --- Modal Functions ---

        function openModal(temple) {
            document.getElementById('modal-image').src = temple.modalImage;
            document.getElementById('modal-title').textContent = temple.name;
            document.getElementById('modal-state').textContent = temple.state;
            document.getElementById('modal-description').textContent = temple.description;
            
            // Construct Google Maps embed URLs
            const mapUrl = `https://maps.google.com/maps?q=${temple.lat},${temple.lng}&t=k&z=18&ie=UTF8&iwloc=&output=embed`;
            const streetViewUrl = `https://maps.google.com/maps?layer=c&cbll=${temple.lat},${temple.lng}&cbp=12,${temple.heading},0,0,${temple.pitch}&output=svembed`;

            gmapIframe.src = mapUrl;
            
            // Handle Street View availability
            if (temple.hasStreetView) {
                streetViewIframe.src = streetViewUrl;
                streetViewBtn.disabled = false;
                // Default to Street View if available
                activateStreetView();
            } else {
                streetViewIframe.src = '';
                streetViewBtn.disabled = true;
                // Default to Map View if Street View is not available
                activateMapView();
            }

            modal.classList.remove('opacity-0', 'pointer-events-none', 'scale-95');
        }

        function closeModal() {
            modal.classList.add('opacity-0', 'pointer-events-none', 'scale-95');
            // Clear iframe srcs to stop loading in the background
            gmapIframe.src = "";
            streetViewIframe.src = "";
        }
        
        // --- Tab Functions ---
        function activateStreetView() {
            streetViewBtn.classList.add('active');
            mapViewBtn.classList.remove('active');
            streetViewPane.classList.remove('hidden');
            mapViewPane.classList.add('hidden');
        }

        function activateMapView() {
            mapViewBtn.classList.add('active');
            streetViewBtn.classList.remove('active');
            mapViewPane.classList.remove('hidden');
            streetViewPane.classList.add('hidden');
        }

        // --- Event Listeners ---
        
        filtersContainer.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                
                const selectedState = e.target.dataset.state;
                displayTemples(selectedState === 'all' ? templeData : templeData.filter(t => t.state === selectedState));
            }
        });
        
        streetViewBtn.addEventListener('click', () => {
            if (!streetViewBtn.disabled) activateStreetView();
        });
        mapViewBtn.addEventListener('click', activateMapView);
        
        closeModalBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target.id === 'modal') closeModal();
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        // --- Initial Load ---
        displayTemples(templeData);
    });
</script>

</body>
</html>

